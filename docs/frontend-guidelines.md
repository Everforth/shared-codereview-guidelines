## レビュープロセス（必須手順）

### STEP 0: PR の理解

**【開始条件】レビューを開始する前に必ず実施**

0. **プロジェクト固有設定の確認（存在する場合のみ）**
   - `@/CLAUDE.md`: プロジェクト固有のAI向け指示・制約を確認
   - `@/AGENTS.md`: エージェント固有の設定・ガイドラインを確認

1. **PR Description の精読**
   - 「なぜやるか」: 解決しようとしている課題を理解
   - 「やったこと」: 実装内容の概要を把握
   - 「確認したいこと」: レビュアーへの質問事項を確認
2. **動作確認（提供されている場合）**
   - スクリーンショット/動画から実際の動作を確認
   - 想定されるユーザー操作フローを理解
3. **変更の影響範囲の把握**
   - 変更されたファイル一覧を確認
   - 新規追加 vs 既存修正 を区別

**【2回目以降のレビューの場合】**

1. **前回指摘事項の確認**
   - 🔴修正必須項目が解消されているか
   - 🟡修正推奨項目への対応状況を確認
2. **新規変更箇所の特定**
   - 前回レビュー後の追加変更を特定
   - 修正対応による副次的な影響範囲を確認
3. **レビュー継続判断**
   - 全て解消済み → 未レビューの層があれば次の層へ
   - 新たな問題発見 → 該当層を再レビュー

### STEP 1: 次のレビュー対象層の決定

現在のレビュー進捗を確認し、次にレビューすべき1つの層のみを決定してください。
他の層のコードは一切確認しないでください。

1. モデリング層（型定義, ストア定義 等）
   - TypeScript型定義の一貫性、APIレスポンスとの整合性、ストア設計の適切性

2. プロトタイピング層（ページコンポーネント、ルーティング 等）
   - ページコンポーネント設計、ルーティング設計、基本的なUI構造

3. 表示・スタイリング層（データ表示、UI/UX 等）
   - データ表示の実装、スタイリング、ユーザビリティ

4. データ処理層（CRUD操作、フォーム処理 等）
   - データの作成・更新・削除処理、フォームバリデーション、エラーハンドリング

【レビュー順序】

- 1層目: モデリング層
- 2層目: プロトタイピング層
- 3層目: 表示・スタイリング層
- 4層目: データ処理層

【完了条件】次にレビューする層を明記してください → 【　　　】層

### STEP 2: ガイドライン確認

【開始条件】STEP 1で次のレビュー対象層を決定済みであること

STEP 1で決定した層に対応するガイドラインを確認してください。
該当する1つのガイドラインのみ参照し、他の層のガイドラインは開かないでください。

- モデリング層を特定した場合のみ: @shared-codereview-guidelines/docs/frontend-layers/1_modeling.md
- プロトタイピング層を特定した場合のみ: @shared-codereview-guidelines/docs/frontend-layers/2_prototyping.md
- 表示・スタイリング層を特定した場合のみ: @shared-codereview-guidelines/docs/frontend-layers/3_styling.md
- データ処理層を特定した場合のみ: @shared-codereview-guidelines/docs/frontend-layers/4_data-processing.md

### STEP 3: 1層のみレビュー実施

**【開始条件】**

- STEP 1で次のレビュー対象層を決定済みであること
- STEP 2で該当するガイドラインを確認済みであること

**【実施内容】**

STEP 1で決定した1つの層のみをレビューしてください。
他の層については一切言及しないでください。
必ず既存コードや関連コードと比較し、一貫性を保つようにしてください。
レビューする際はガイドラインまたは既存コードの具体的なファイル名を明示してください。

**【レビュー後の処理】**

各層のレビュー完了後、必ず以下を実施：

1. 該当層のレビュー結果を出力
2. 現在のレビュー状況を明記（後述のフォーマット使用）
3. 問題がない場合のみ：STEP 1に戻り次の層へ進む
4. 問題がある場合：即座に停止し、修正を待つ

**【レビュー結果の記載形式】**

レビュー結果は必ず以下の形式で出力してください:

#### 🔴 修正必須（マージブロッカー）

- バグや不具合
- セキュリティリスク
- 仕様との明確な不一致
- 既存コードとの破壊的な非互換性
- レビューガイドラインとの明確な不一致

#### 🟡 修正推奨（今回または次回対応）

- 保守性・拡張性の明確な改善
- パフォーマンスの測定可能な向上

**【各層レビュー後の記載（必須）】**

各層のレビューが完了するたびに、必ず現在のレビュー状況を以下の形式で明記してください：

```
## レビュー状況
- ✅ モデリング層: レビュー完了
- ✅ プロトタイピング層: レビュー完了
- ✅ 表示・スタイリング層: レビュー完了
- ✅ データ処理層: レビュー完了
```

問題を発見して途中で停止した場合:

```
## レビュー状況
- ✅ モデリング層: レビュー完了
- 🔴 プロトタイピング層: 修正必須項目あり（レビュー停止）
- ⏸️ 表示・スタイリング層: 未実施
- ⏸️ データ処理層: 未実施
```

**【レビューを中止する場合】**

ユーザーからレビュー中止の指示があった場合、一旦レビューを完了として扱い、現在までのレビュー状況のメッセージを更新してください。

### 禁止事項

1. 一度に複数の層をレビューすることの禁止
   - 必ず1層ずつレビューを実施
   - 各層のレビュー後に必ずレビュー状況を報告
   - 現在レビュー中の層以外のコードに言及しない
   - 他の層で気づいた問題があっても、現在の層のレビューが完了するまで言及しない

2. 総評・まとめ・良い点の言及は不要
   - 「総評」「総合評価」「まとめ」「全体として」「技術的評価」などのセクションを作成しない

   - 「〜が良いです」「〜は適切です」などのポジティブな評価を記載しない

   - レビュー結果の形式（🔴修正必須、🟡修正推奨）は問題点の整理であり、総評ではないため使用する

3. レビューサイクルの厳守
   - 「1層レビュー → 結果報告 → レビュー状況明記」のサイクルを必ず守る
   - 🔴修正必須・🟡修正推奨がない場合のみ、STEP 1に戻って次の層へ
   - 問題を発見した時点で即座に停止

### レビュー観点

#### 基本原則

- コードの可読性と保守性を最優先
- Vue.js/TypeScriptのベストプラクティスに従う
